<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ‚ æ”¶åˆ°ä¸€ä»½ç‰¹åˆ«çš„ç¥ç¦</title>
   <style>
        /* === å…¨å±€åŸºç¡€æ ·å¼ (é»˜è®¤ä¼˜å…ˆé€‚é…æ‰‹æœº) === */
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            background-color: #f0f0f0;
            font-family: "Microsoft YaHei", sans-serif;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #bg-slideshow {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            /* å»æ‰äº† transition é¿å…æ™ƒçœ¼ç› */
        }

        #bg-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: rgba(255, 255, 255, 0.5); /* æƒ³è¦æ¸…æ™°å°±æŠŠæ¨¡ç³Šå»æ‰ï¼Œé€æ˜åº¦è°ƒé«˜ */
            backdrop-filter: blur(0.5px); /* å¾®å¾®ä¸€ç‚¹ç‚¹æ¨¡ç³Šï¼Œä¸æ™• */
        }

        /* === æŒ‰é’®æ ·å¼ === */
        #start-container {
            z-index: 9999;
            position: relative;
        }
        
        #start-btn {
            /* æ‰‹æœºä¸ŠæŒ‰é’®ç¨å¾®å¤§ä¸€ç‚¹ï¼Œæ–¹ä¾¿æ‰‹æŒ‡ç‚¹ */
            padding: 15px 35px; 
            font-size: 20px;
            background: #ffffff;
            color: #333;
            border: 1px solid #ddd;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
            animation: pulse 1.5s infinite;
            transition: transform 0.3s; /* æ·»åŠ ç‚¹å‡»ç¼©æ”¾è¿‡æ¸¡ */
        }

        /* ç”µè„‘ç«¯ç‰¹æœ‰ï¼šé¼ æ ‡æ”¾ä¸Šå»æŒ‰é’®ä¼šå˜å¤§ */
        #start-btn:hover {
            transform: scale(1.1); 
            background: #f8f8f8;
        }

        /* === ç¥ç¦å¡ç‰‡æ ·å¼ (æ ¸å¿ƒå“åº”å¼åŒºåŸŸ) === */
        #final-card {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 10;
            
            /* ç»ç’ƒæ‹Ÿæ€èƒŒæ™¯ */
            background: rgba(255, 255, 255, 0.75);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            
            border-radius: 20px;
            opacity: 0;
            transition: opacity 2s;

            /* --- æ‰‹æœºç«¯é»˜è®¤è®¾ç½® --- */
            width: 85%;  /* æ‰‹æœºå±å¹•çª„ï¼Œæˆ‘è¦å å®½ä¸€ç‚¹ */
            padding: 20px;
        }

        .cake-icon { 
            font-size: 40px; /* æ‰‹æœºä¸Šå›¾æ ‡å¤§å° */
            display: block; 
            margin-bottom: 5px; 
        }
        
        h1 { 
            color: #ff6b6b; 
            margin: 10px 0; 
            font-size: 1.4rem; /* æ‰‹æœºä¸Šæ ‡é¢˜å¤§å° */
        }
        
        p { 
            color: #555; 
            font-size: 0.95rem; /* æ‰‹æœºä¸Šæ­£æ–‡å¤§å° */
            line-height: 1.6; 
        }

        /* === ğŸ’» ç”µè„‘ç«¯/å¹³æ¿ç«¯ ä¸“å±è§„åˆ™ (Media Query) === */
        /* æ„æ€ï¼šå½“å±å¹•å®½åº¦å¤§äº 768px æ—¶ï¼Œæ‰§è¡Œä¸‹é¢çš„ä»£ç è¦†ç›–ä¸Šé¢çš„ */
        @media screen and (min-width: 768px) {
            #final-card {
                width: 450px; /* ç”µè„‘ä¸Šå›ºå®šå®½åº¦ï¼Œçœ‹èµ·æ¥æ›´åƒä¸€å¼ è´ºå¡ */
                padding: 40px; /* ç”µè„‘ä¸Šå†…è¾¹è·å¤§ä¸€ç‚¹ï¼Œæ›´é€æ°” */
                border-radius: 30px;
            }

            .cake-icon {
                font-size: 60px; /* ç”µè„‘ä¸Šå›¾æ ‡å˜å¤§ */
                margin-bottom: 15px;
            }

            h1 {
                font-size: 2rem; /* ç”µè„‘ä¸Šæ ‡é¢˜éœ¸æ°”ä¸€ç‚¹ */
                margin-bottom: 20px;
            }

            p {
                font-size: 1.1rem; /* ç”µè„‘ä¸Šå­—å·å¤§ä¸€ç‚¹ */
            }
            
            #start-btn {
                font-size: 24px; /* ç”µè„‘ä¸ŠæŒ‰é’®å­—å¤§ä¸€ç‚¹ */
                padding: 20px 50px;
            }
        }

        /* === å¼¹çª—åŠ¨ç”» === */
        .fake-window {
            position: absolute;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            font-size: 14px;
            font-weight: bold;
            color: #333;
            border: 1px solid rgba(0,0,0,0.1);
            transform: scale(0); 
            animation: popIn 0.3s forwards;
            pointer-events: none;
            white-space: nowrap;
            z-index: 100;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes popIn {
            to { transform: scale(1); }
        }
    </style>
</head>
<body>

    <div id="bg-slideshow"></div>
    <div id="bg-overlay"></div>

    <div id="start-container">
        <button id="start-btn" onclick="startCelebration()">
            ç‚¹å‡»æ¥å—ç”Ÿæ—¥ç¥ç¦ 
            <img src="photos/bomb.png" style="width: 25px; vertical-align: middle;">
        </button>
    </div> <div id="final-card">
        <span class="cake-icon">ğŸ‚</span>
        <h1>Happy Birthday, yzr!</h1>
        <p>
            æ‰€æœ‰çš„å¼¹çª—éƒ½æ˜¯ä¸ºä½ è€Œå¼€<br>
            ç¥ä½ 19å²ç”Ÿæ—¥å¿«ä¹ï¼<br>
        </p>
    </div>

    <script>

        // === æ³¨æ„ï¼šä½ æ”¹æˆäº† pngï¼Œè¯·ç¡®ä¿æ–‡ä»¶å¤¹é‡Œç¡®å®æ˜¯ png ===
        const photoList = [
            "1.png", "2.png", "3.jpg", "4.png", "5.jpg", 
            "6.png", "7.jpg", "8.png", "9.jpg", "10.jpg", 
            "11.jpg", "12.jpg", "13.png"
        ];
        
        // é¢„åŠ è½½å›¾ç‰‡
        photoList.forEach(img => {
            new Image().src = `photos/${img}`;
        });

        // è½®æ’­é€»è¾‘
        let currentPhotoIndex = 0;
        function startSlideshow() {
            const bgDiv = document.getElementById('bg-slideshow');
            // å¦‚æœ bgDiv æ‰¾ä¸åˆ°ï¼Œè¿™é‡Œå°±ä¼šæŠ¥é”™ï¼Œç°åœ¨åŠ äº† div å°±å¥½äº†
            if (bgDiv) {
                bgDiv.style.backgroundImage = `url('photos/${photoList[0]}')`;
                setInterval(() => {
                    currentPhotoIndex = (currentPhotoIndex + 1) % photoList.length;
                    const nextImg = photoList[currentPhotoIndex];
                    bgDiv.style.backgroundImage = `url('photos/${nextImg}')`;
                }, 3000);
            } else {
                console.error("é”™è¯¯ï¼šæ‰¾ä¸åˆ°èƒŒæ™¯div");
            }
        }

        startSlideshow();

        const tips = [
            'ç¥yzr 19å²ç”Ÿæ—¥å¿«ä¹ï¼ğŸ‚', 'ç¥ä½ å¿«ä¹ï¼Œç¥ä½ å¥åº·', 'æ„¿ä½ å‰ç¨‹ä¼¼é”¦',
            'å¤©å¤©å¼€å¿ƒ', 'ç”Ÿæ—¥å¿«ä¹ï¼ŒyzråŒå­¦ï¼', 'æ„¿ä½ çš„æ¯ä¸€å¤©éƒ½é¡ºé¡ºåˆ©åˆ©',
            'ç”Ÿæ—¥å¿«ä¹ï¼Œå¿ƒæƒ³äº‹æˆ', 'ç¥ç¦æ¥è‡ªå—äº¬', 'æ„¿ä½ æ¢¦æƒ³æˆçœŸ','ç”µè„‘æ‰“å¼€æ›´å¥½çœ‹',
            'Happy Birthday!'
        ];

        const bgColors = [
            'skyblue', 'lightgreen', 'lavender', 'lightyellow', 'plum', 
            'coral', 'bisque', 'aquamarine', 'mistyrose', 'honeydew', 'lavenderblush', 'oldlace'
        ];

        const melody = [
            [392, 500], [392, 500], [440, 1000], [392, 1000], [523, 1000], [494, 2000],
            [392, 500], [392, 500], [440, 1000], [392, 1000], [587, 1000], [523, 2000],
            [392, 500], [392, 500], [784, 1000], [659, 1000], [523, 1000], [494, 1000], [440, 2000],
            [698, 500], [698, 500], [659, 1000], [523, 1000], [587, 1000], [523, 2000],
            [392, 500], [392, 500], [440, 1000], [392, 1000], [523, 1000], [494, 2000],
            [392, 500], [392, 500], [440, 1000], [392, 1000], [587, 1000], [523, 2000]
        ];

        const AudioContext = window.AudioContext || window.webkitAudioContext;
        let audioCtx;

        function playTone(freq, duration, startTime) {
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            oscillator.type = 'square'; 
            oscillator.frequency.value = freq;
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            gainNode.gain.setValueAtTime(0, startTime);
            gainNode.gain.linearRampToValueAtTime(0.1, startTime + 0.01);
            gainNode.gain.linearRampToValueAtTime(0, startTime + duration / 1000);
            oscillator.start(startTime);
            oscillator.stop(startTime + duration / 1000);
        }

        function startMusic() {
            if (!audioCtx) audioCtx = new AudioContext();
            let currentTime = audioCtx.currentTime;
            melody.forEach(note => {
                playTone(note[0], note[1], currentTime);
                currentTime += note[1] / 1000;
            });
        }

        function createPopup() {
            const div = document.createElement('div');
            div.className = 'fake-window';
            div.innerText = tips[Math.floor(Math.random() * tips.length)];
            div.style.backgroundColor = bgColors[Math.floor(Math.random() * bgColors.length)];
            const x = Math.random() * (window.innerWidth - 150);
            const y = Math.random() * (window.innerHeight - 50);
            div.style.left = x + 'px';
            div.style.top = y + 'px';
            document.body.appendChild(div);
            setTimeout(() => {
                div.style.transition = 'opacity 1s';
                div.style.opacity = 0;
                setTimeout(() => div.remove(), 1000);
            }, 4000);
        }

        function startCelebration() {
            document.getElementById('start-btn').style.display = 'none';
            const finalCard = document.getElementById('final-card');
            finalCard.style.display = 'block';
            setTimeout(() => finalCard.style.opacity = '1', 100);
            
            // ä¸ºäº†è®©èƒŒæ™¯å›¾çœ‹å¾—æ›´æ¸…ï¼Œå¯ä»¥æŠŠ body èƒŒæ™¯è®¾é€æ˜ä¸€ç‚¹ï¼Œæˆ–è€…ä¿æŒåŸæ ·
            // document.body.style.background = 'transparent'; 

            startMusic();
            
            let count = 0;
            const maxPopups = 120;
            const interval = setInterval(() => {
                createPopup();
                count++;
                if (count >= maxPopups) clearInterval(interval);
            }, 200);
        }
    </script>
</body>
</html>